# 数据库
- Redis：KV数据库，适合缓存和消息队列
- MongoDB：文档数据库，适合存储和查询文档类型
- HBase：列式存储数据库，适合大数据场景
- Neo4j：图形数据库适合存储和查询图结构数据，如人际交往

## 数据库模式 - 三级模式
- 外模式
- 概念模式：全体数据的逻辑结构描述，是所有用户的公共数据视图
- 内模式

## 数据库设计
- E-R图：概念设计阶段文档，不依赖任何DBMS的数据模型（数据流图是需求分析阶段文档）
- 关系代数：差（s1-s2）、笛卡尔积（s1xs2）、投影（Π）、选择（α）、连接（合并去重列）
- 等价表达式：笛卡尔积与自然连接互转
- 关系运算转SQL语句
- 派生属性：可由其他属性经过运算得到
- 约束：not null、foreign key（不同表同一列）、trigger（不同表不同列）、check（表内）

## 规范化理论
- 函数依赖：列出分解后的关系模式，再检查分解后的关系模式是否保持函数依赖集F的函数依赖
- 求候选键（唯一标识元组，且无冗余）：找入度为0的节点尝试能否遍历完所有节点，也可以合并节点
- 范式
  - 第一范式：原子属性不可分
  - 第二范式：每一个非主属性完全依赖候选键，非主属性由候选键决定
  - 第三范式：没有非主属性传递依赖于候选码
  - BCNF范式：主属性完全依赖候选键，且不存在传递依赖
- 无损分解：保持函数依赖分解、无损分解充分必要条件 R1∩R2→(R1—R2) 或 R1∩R2→(R2—R1) 
- 反规范化：增加派生类、增加冗余列、重装组表、分割表
- 完整性约束：实体完整性（主属性不能取空值）、参照完整性（实体间引用）、用户定义的完整性（针对具体的数据）

## 数据库控制
- 事务特性：原子性、隔离性、一致性、持久性
- 事务状态：活动、部分提交（最后一条语句被执行后）、失败、提交（最后一条信息写入后）、中止
- 排它锁和共享锁：
  - 排它锁x锁：不允许其他事务对数据加任何类型锁
  - 共享锁s锁：允许其他事务对数据加共享锁，不允许加排它锁

## 数据库新概念
- 数据仓库
  - 数据集市：从数据仓库中获取所需数据
- 数据挖掘：关联分析（不同事务的关联性）、序列分析（连续发生的事件具有普遍意义）、聚类分析（将没有类目的样本聚集成组）、分类分析（分析具有类别的样本特点）
- 分布式数据库：共享性、分布性（存储不同的节点）、可用性、自治性（独立管理本地数据）
  - 分布透明性：分片透明、位置透明和局部数据模型透明
  - CAP理论：一致性、可用性和分区容错性（只能同时满足2项）
- OLAP：多维数据分析工具

## 非关系型数据库 NoSql
- key-Value：缓存、日志
  - 优点：扩展性好、灵活性强、大量操作时性能好
  - 缺点：数据无结构化
- 列式存储：分布式数据库存储和管理
  - 优点：扩展性好、查询速度快、复杂度低
  - 缺点：功能局限
- 文档型：Web应用
  - 优点：结构灵活
  - 缺点：查询性能不高
- 图数据：社交网络
  - 优点：支持复杂图形算法
  - 缺点：复杂度高
